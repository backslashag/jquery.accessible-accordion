/*!
 * jQuery Accessible Accordion
 *
 * @description: Creates an accessible accordion - collapsible content panels
 * @source: https://github.com/jenzener/jquery.accessible-accordion.git
 * @originalsource: https://github.com/nomensa/jquery.accessible-accordion.git
 * @version: '1.0.0'
 *
 * @author: Mischa Sameli
 * @originalauthor: Nomensa
 * @license: licenced under MIT - http://opensource.org/licenses/mit-license.php
*/
/* File generated by shrinker.ch - DateTime: 2016-04-12, 06:06:48 */
(function(b,i){function h(c,d){function g(){a.handleClick=function(e){e.preventDefault();a.toggle(b(this))};return a.handleClick}function f(){a.handleKeyDown=function(e){switch(e.which){case 37:case 38:e.preventDefault();b(this).prevAll("."+a.options.panelControlClass).eq(0).length!==0?b(this).prevAll("."+a.options.panelControlClass).eq(0).focus():b(a.element).find("."+a.options.panelControlClass).last().focus();break;case 39:case 40:e.preventDefault();b(this).nextAll("."+a.options.panelControlClass).eq(0).length!==
0?b(this).nextAll("."+a.options.panelControlClass).eq(0).focus():b(a.element).find("."+a.options.panelControlClass).first().focus();break;case 32:case 13:e.preventDefault();a.toggle(b(this))}};return a.handleKeyDown}function k(){var e;a.element.find("."+a.options.panelClass).each(function(){e=b(this).prev("."+a.options.panelControlClass).text();b(this).prepend('<p aria-hidden="true" class="'+a.options.panelTitleClass+'">'+e+"</p>")})}var a=this;a.element=b(c);a.options=b.extend({},l,d);a.section=
a.element.find("."+a.options.sectionClass);if(a.options.horizontal===true)b(i).on("debouncedresize",function(){a.calculateWidths();a.calculateHeights()});(function(){b("> div",a.element).each(function(e,m){b(m).addClass(a.options.panelClass).attr({"aria-hidden":"true","aria-labelledby":a.options.panelControlId+j+e,id:a.options.panelId+j+e}).hide();b(m).prev().addClass(a.options.panelControlClass).attr({"aria-controls":a.options.panelId+j+e,"aria-expanded":"false","aria-pressed":"false",id:a.options.panelControlId+
j+e,role:"button",tabindex:0}).click(g(a)).keydown(f(a)).wrapInner("<span ></span>")});a.options.defaultPanel!==false&&a.open(b("."+a.options.panelControlClass,a.element).eq(a.options.defaultPanel));a.element.addClass(a.options.containerClass);if(a.options.horizontal===true){a.element.addClass(a.options.containerClassHorizontal);a.options.activeControlHidden===true&&k();a.calculateWidths();a.calculateHeights()}j++;a.options.callbackCreate()})()}var l,j=0;l={activeControlHidden:false,defaultPanel:false,
callbackCreate:function(){},callbackDestroy:function(){},containerClass:"js-accordion",containerClassHorizontal:"js-accordion--horizontal",horizontal:false,panelClass:"js-accordion_panel",panelId:"js-accordion_panel--",panelControlClass:"js-accordion_control",panelControlActiveClass:"js-accordion_control--active",panelControlHiddenClass:"js-accordion_control--hidden",panelControlId:"js-accordion_control--",panelTitleClass:"js-accordion_panel-title",panelWidth:33,scrollToPanel:false,scrollToPanelSpeed:200,
fadeIn:false,fadeInOptions:{},fadeOut:false,fadeOutOptions:{}};h.prototype.calculateWidths=function(){var c=this.element.find("."+this.options.panelControlClass),d,g=this.element.find("."+this.options.panelClass),f=this.options.panelWidth;d=this.options.activeControlHidden===true?c.length-1:c.length;d=(100-f)/d;g.css("width",f+"%");c.css("width",d+"%")};h.prototype.calculateHeights=function(){var c=this.element.find("."+this.options.panelControlClass),d;c.css("min-height",0);d=this.element.find('[aria-hidden="false"]').outerHeight();
c.css("min-height",d)};h.prototype.toggle=function(c){c.attr("aria-pressed")==="false"?this.open(c):this.close(c)};h.prototype.open=function(c){var d=this.options.panelControlActiveClass,g="#"+b(c).attr("aria-controls"),f=i.location.href;if(b('> [aria-pressed="true"]',this.element).length!==0){b('> [aria-pressed="true"]',this.element).attr({"aria-expanded":"false","aria-pressed":"false"}).removeClass(d);this.options.fadeOut?b('> [aria-hidden="false"]',this.element).attr("aria-hidden","true").fadeOut(this.options.fadeOutOptions):
b('> [aria-hidden="false"]',this.element).attr("aria-hidden","true").hide()}this.options.fadeIn?b(g,this.element).attr("aria-hidden","false").fadeIn(this.options.fadeInOptions):b(g,this.element).attr("aria-hidden","false").show();b(c,this.element).addClass(d).attr({"aria-expanded":"true","aria-pressed":"true"});if(this.options.scrollToPanel){f=f.substr(0,f.lastIndexOf("#"));b("html, body").animate({scrollTop:b(g,this.element).offset().top},this.options.scrollToPanelSpeed);i.location.href=f+g}if(this.options.horizontal===
true){if(this.options.activeControlHidden===true){b("."+this.options.panelControlHiddenClass,this.element).removeClass(this.options.panelControlHiddenClass).attr("tabindex",0);b(c,this.element).addClass(this.options.panelControlHiddenClass).attr("tabindex",-1)}this.calculateWidths();this.calculateHeights()}};h.prototype.close=function(c){if(this.options.activeControlHidden)return false;var d=this.options.panelControlActiveClass,g="#"+b(c).attr("aria-controls");this.options.fadeOut?b(g,this.element).attr("aria-hidden",
"true").fadeOut(this.options.fadeOutOptions):b(g,this.element).attr("aria-hidden","true").hide();b(c,this.element).attr({"aria-expanded":"false","aria-pressed":"false"}).removeClass(d)};h.prototype.destroy=function(){var c=this,d=i.location.href;this.element.removeAttr("style").removeClass(this.options.containerClass).removeClass(this.options.containerClassHorizontal);b("> div",this.element).prev().each(function(g,f){var k=b(f).text();b(f).removeAttr("aria-controls aria-expanded aria-pressed id role style tabindex").removeClass(c.options.panelControlClass).removeClass(c.options.panelControlActiveClass).removeClass(c.options.panelControlHiddenClass).off().empty().text(k)});
b("> div",this.element).each(function(g,f){b(f).removeAttr("aria-hidden aria-labelledby id style").removeClass(c.options.panelClass)});b(this.element).find("."+this.options.panelTitleClass).remove();this.options.callbackDestroy();if(this.options.scrollToPanel){d=d.substr(0,d.lastIndexOf("#"));if(d.length!==0)i.location.href=d+"#"}};b.fn.accAccordion=function(c){return this.each(function(){b.data(this,"plugin_accAccordion")||b.data(this,"plugin_accAccordion",new h(this,c))})}})(jQuery,window,document);
